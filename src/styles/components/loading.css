/* =========================================
   THEME (couleurs globales utiles)
   ========================================= */
:root{
  --brand-primary: #1E63FF;  /* bleu 'S' + halo */
  --brand-charcoal:#1f232a;  /* texte si besoin */
}

/* =========================================
   OVERLAY (plein écran / local)
   ========================================= */
.loading-overlay{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  z-index: 9999; pointer-events: all;
}
.loading-overlay.is-fullscreen{ position: fixed; }

/* Voile (avec option blur) */
.loading-scrim{
  position:absolute; inset:0;
  background:
    radial-gradient(1200px 600px at 70% 20%, rgba(30,99,255,.16), transparent 62%),
    linear-gradient(180deg, rgba(18,22,30,.38), rgba(18,22,30,.52));
  backdrop-filter: blur(6px);
}
.loading-scrim:not(.with-blur){ backdrop-filter: none; }

.loading-local-wrap{ position: relative; }

/* Mode sombre : voile un peu plus dense */
@media (prefers-color-scheme: dark){
  .loading-scrim{
    background:
      radial-gradient(1200px 600px at 70% 20%, rgba(30,99,255,.20), transparent 62%),
      linear-gradient(180deg, rgba(7,9,13,.55), rgba(7,9,13,.75));
  }
}

/* =========================================
   LOGO SEUL + HALO (animation moderne)
   ========================================= */

/* Conteneur global (centre + léger mouvement global) */
.logo-only-wrap{
  position: relative;
  display:flex; align-items:center; justify-content:center;
  width:100%; height:100%;
  perspective: 800px;
  animation: logo-orbit 7s ease-in-out infinite;
}

/* Halo externe — doux, dynamique, bleu */
.logo-halo{
  position:absolute; z-index:1;
  width: calc(var(--loader-size, 200px) * 1.9);
  height: calc(var(--loader-size, 200px) * 1.9);
  border-radius: 50%;
  background:
    radial-gradient(circle, color-mix(in srgb, var(--brand-primary) 35%, transparent) 0%, transparent 70%),
    radial-gradient(circle, rgba(255,255,255,.10) 20%, transparent 80%);
  filter: blur(70px);
  animation: halo-pulse 4.5s ease-in-out infinite;
}

/* Logo wrapper (taille du logo) */
.logo-svg-wrap{
  z-index:2;
  width: var(--loader-size, 200px);
  height: var(--loader-size, 200px);
  display:grid; place-items:center;
  animation: logo-bounce 6s ease-in-out infinite;
}
.logo-svg-wrap svg{ width:100%; height:100%; display:block; }

/* Assure la pleine opacité du SVG */
.logo-stroke-root *{
  opacity:1; stroke-opacity:1; fill-opacity:1;
}

/* Tracé du logo (boucle visible, un peu plus rapide) */
.logo-trace-loop{
  animation: logo-trace 1.8s ease-in-out infinite;
}
@keyframes logo-trace{
  0%   { stroke-dashoffset: var(--len); opacity:.75; }
  40%  { stroke-dashoffset: 0;          opacity:1;   }
  60%  { stroke-dashoffset: 0;          opacity:1;   }
  100% { stroke-dashoffset: var(--len); opacity:.75; }
}

/* Micro-mouvements modernes (zoom/tilt/rebond) */
@keyframes logo-bounce{
  0%,100% { transform: translateY(0) scale(1) rotateX(0deg); }
  25%     { transform: translateY(-8px) scale(1.05) rotateX(2deg); }
  50%     { transform: translateY(4px)  scale(0.985) rotateX(-1deg); }
  75%     { transform: translateY(-4px) scale(1.03) rotateX(1deg); }
}
@keyframes logo-orbit{
  0%,100% { transform: rotateY(0deg) rotateZ(0deg); }
  50%     { transform: rotateY(5deg) rotateZ(-2deg); }
}

/* Halo qui “respire” (plus visible) */
@keyframes halo-pulse{
  0%,100% { transform: scale(1);   opacity:.65; filter: blur(60px) brightness(1); }
  50%     { transform: scale(1.15); opacity:1;   filter: blur(80px) brightness(1.2); }
}

/* =========================================
   ACCESSIBILITÉ : réduit les animations
   ========================================= */
@media (prefers-reduced-motion: reduce){
  .logo-only-wrap,
  .logo-halo,
  .logo-svg-wrap,
  .logo-trace-loop{
    animation: none !important;
  }
}
