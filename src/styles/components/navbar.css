/* ===========================
   NAVBAR + flyout + drawer mobile
   =========================== */

   :root{
    --nav-bg: rgba(17,17,17,.92);
    --nav-accent: #3B5BFF;
    --nav-h: 72px;  
  }


/* Empêche le body de défiler quand le drawer est ouvert */
.body--locked { overflow: hidden; }

/* iOS safe-area: si besoin pour la barre */
.navbar-container { padding-top: env(safe-area-inset-top, 0); }


  @media (max-width: 900px){
    :root{ --nav-h: 64px; }      /* mobile */
  }
  
  /* Barre */
  .navbar-container{
    position: fixed;              /* <- always on screen */
    top: 0; left: 0; right: 0;
    height: var(--nav-h);
    z-index: 4000;                /* above hero/video & drawer overlay */
    background: rgba(17,17,17,.92);
    backdrop-filter: saturate(120%) blur(6px);
    -webkit-backdrop-filter: saturate(120%) blur(6px);
    display: flex; align-items: center; justify-content: center;
  }
  .navbar-content{
    width: 100%; max-width: 1200px;
    padding: 0 16px;
  }

  .navbar-dropdown-menu,
.flyout-root{
  z-index: 10000;
}
  
  /* Lignes */
  .navbar-row{ width: 100%; }
  .navbar-row-mobile{
    display: grid;
    grid-template-columns: 44px 1fr auto;  /* burger | logo | icônes */
    align-items: center;
    height: 64px;
  }
  .navbar-row-desktop{
    display: none;
    height: 72px;
    align-items: center;
    justify-content: space-between;
  }
  
  /* Logo */
  .navbar-logo{ display: flex; align-items: center; justify-content: center; }
  .logo-img{ height: 40px; width: auto; object-fit: contain; }
  
  /* Icônes à droite (mobile) */
  .navbar-right-icons{ display: inline-flex; align-items: center; gap: 8px; }
  .nav-ico-btn{
    position: relative;
    width: 34px; height: 34px;
    display: inline-flex; align-items: center; justify-content: center;
    border-radius: 10px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.12);
    color: #fff; text-decoration: none;
  }
  .nav-ico-btn:active{ transform: translateY(.5px); }
  .nav-icon{ font-size: 1.4rem; line-height: 1; }
  .nav-icon--blue{ color: var(--nav-accent); }
  
  /* Badge panier */
  .nav-badge{
    position: absolute; top: -8px; right: -6px; z-index: 2;
    min-width: 18px; height: 18px; padding: 0 5px; border-radius: 999px;
    background: #0d6efd; color: #fff; font-weight: 800; font-size: 11px;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 0 0 2px var(--nav-bg);
  }
  .nav-badge.bump{ animation: bump .3s ease; }
  @keyframes bump{ 0%{transform:scale(1)}50%{transform:scale(1.12)}100%{transform:scale(1)} }
  
  /* Liens desktop */
  .navbar-links{ display: flex; align-items: center; gap: 1.6rem; }
  .navbar-links > a{ color:#fff; font-weight:700; text-decoration: none; }
  .navbar-links > a:hover{ color:#ddd; }
  
  /* Dropdowns */
  .navbar-dropdown{ position: relative; }
  .navbar-dropdown-toggle{
    background: none; border: 0; color:#fff; font-weight:700; cursor: pointer;
    display: flex; align-items: center; gap: .35rem;
  }
  .navbar-dropdown-toggle:hover{ color:#ddd; }
  .arrow{ display:inline-block; transition: transform .25s ease; }
  .arrow.up{ transform: rotate(180deg); }
  
  .navbar-dropdown-menu{
    position: absolute; top: 100%; left: 0; z-index: 1001;
    background: #fff; border: 1px solid #e6e8ef; border-radius: 10px; padding: .5rem 0;
    min-width: 200px; box-shadow: 0 10px 30px rgba(0,0,0,.12); display: flex; flex-direction: column;
  }
  .navbar-dropdown-menu a,
  .navbar-dropdown-menu .logout-btn{
    display: flex; align-items: center; gap: 8px;
    padding: .6rem 1rem; color: #333; background: none; border: 0; cursor: pointer;
    text-decoration: none;
  }
  .navbar-dropdown-menu a:hover,
  .navbar-dropdown-menu .logout-btn:hover{ background: #f5f7fa; color: #000; }
  .logout-btn{ width: 100%; }
  
  /* Panier desktop */
  .nav-cart-link{ display: inline-flex; align-items: center; color:#fff; gap: 6px; text-decoration: none; }
  .nav-cart-ico{ position: relative; line-height: 1; }
  
  /* Burger */
  .navbar-toggle{
    display: flex; flex-direction: column; cursor: pointer;
    background: transparent; border: 0; padding: 6px;
  }
  .navbar-toggle .bar{ height: 3px; width: 22px; background: #fff; margin: 3px 0; border-radius: 2px; }
  
  /* Drawer mobile (GAUCHE) */
  .mm-overlay{
    position: fixed; inset: 0; background: rgba(0,0,0,.55);
    opacity: 0; pointer-events: none; transition: opacity .18s ease; z-index: 1199;
  }
  .mm-overlay.show{ opacity: 1; pointer-events: auto; }
  .mm-panel{
    position: fixed; top: 0; bottom: 0; left: 0; right: auto;
    width: min(92vw, 420px);
    transform: translateX(-100%); transition: transform .22s ease; z-index: 1200;
    background: #0f1115; color:#fff; display: grid; grid-template-rows: auto 1fr auto;
    box-shadow: 18px 0 40px rgba(0,0,0,.35);
    padding-top: 45px;
  }
  .mm-panel.show{ transform: translateX(0); }
  .mm-head{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid rgba(255,255,255,.06); }
  .mm-title{ font-weight:900; }
  .mm-scroller{ overflow:auto; padding:8px; }
  .mm-section{ margin:8px 0; background:#141821; border-radius:12px; overflow:hidden; }
  .mm-sec-btn{
    width:100%; display:flex; align-items:center; justify-content:space-between; gap:10px;
    padding:14px; font-weight:900; color:#fff; background:transparent; border:0; cursor:pointer;
  }
  .mm-sec-btn:hover{ background:rgba(255,255,255,.04); }
  .mm-chevron{ opacity:.7; transition:transform .18s ease; }
  .mm-sec-btn[aria-expanded="true"] .mm-chevron{ transform:rotate(180deg); }
  .mm-sub{ max-height:0; overflow:hidden; transition:max-height .22s ease; background:#0f131b; }
  .mm-sub.open{ max-height:1000px; }
  .mm-item{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:12px 14px; color:#e6e8ee; font-weight:800; text-decoration:none; }
  .mm-item:hover{ background:#0b0f16; }
  .mm-link{ display:block; padding:14px; color:#fff; font-weight:900; text-decoration:none; }
  .mm-link:hover{ background:rgba(255,255,255,.04); }
  .mm-badge{ display:inline-grid; place-items:center; min-width:22px; height:22px; padding:0 6px; border-radius:999px; background:#fff; color:#111; font-size:.8rem; font-weight:900; }
  
  /* Flyout (desktop) */
  .flyout-root{
    position:absolute; top:calc(100% - 1px); left:0; z-index:1000;
    display:flex; gap:8px; padding:6px; background:#fff; border:1px solid #e6e8ef;
    border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.12);
  }
  .flyout-bridge{ position:absolute; top:0; bottom:0; left:240px; width:16px; }
  .flyout-level1,.flyout-level2,.flyout-level1 li,.flyout-level2 li{ list-style:none; margin:0; padding:0; }
  .flyout-level1{ padding:4px; width:max-content; min-width:190px; max-width:260px; }
  .flyout-item{ position:relative; }
  .flyout-link{
    display:flex; align-items:center; justify-content:space-between; gap:10px; width:100%;
    padding:8px 12px; border-radius:10px; white-space:nowrap; color:#1f2937; font-weight:900; text-decoration:none;
  }
  .flyout-link:hover,.flyout-item.is-active>.flyout-link{ background:#f3f6ff; }
  .flyout-arrow{ opacity:.6; }
  .flyout-level2{
    position:absolute; top:0; left:calc(100% + 12px); padding:6px; min-width:210px; max-width:320px;
    background:#fff; border:1px solid #e6e8ef; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.12);
  }
  .flyout-sublink{ display:block; padding:8px 12px; border-radius:10px; white-space:nowrap; color:#28314d; font-weight:800; text-decoration:none; }
  .flyout-sublink:hover{ background:#f6f8ff; }
  
  /* Responsive */
  @media (max-width:900px){
    /* .navbar-container{ height: 50px; } */
    .logo-img{
      align-items: center;
      justify-content: center;
    }
    .logo-img{ height: 30px; }
    .navbar-row-desktop{ display: none; }
    .navbar-row-mobile{ display: grid; }
    .navbar-links{ display:none; } /* on masque les liens desktop */
    /* flyout non utilisé en mobile */
    .flyout-root,.flyout-level1,.flyout-level2{ position:static; border:0; box-shadow:none; padding:0; }
  }
  @media (min-width:901px){
    .navbar-row-mobile{ display: none; }
    .navbar-row-desktop{ display: flex; }
    .mm-overlay,.mm-panel{ display: none; }
  }

  .navbar-dropdown-menu,
.flyout-root{
  z-index: 10000;
}
  

/* 1) Let dropdowns overflow outside the navbar */
.navbar-container{
    overflow: visible !important;   /* was hidden */
    z-index: 10001;                  /* keep it above hero */
  }
  
  /* 2) Make sure hero media never sits on top or eats clicks */
  .hero-section{ position: relative; isolation: isolate; z-index: 0; }
  .hero-video,
  .hero-image{
    position: absolute; inset: 0;
    z-index: -1;                    /* behind section content */
    pointer-events: none;           /* don't block clicks on menus */
  }
  .hero-section::after{ z-index: 0; pointer-events:none; }
  
  /* 3) Menus above everything */
  .navbar-dropdown-menu,
  .flyout-root{ z-index: 10000; }



  /* Admin dropdown: scroll if too tall */
.navbar-dropdown-menu.admin-menu{
  /* keep it under the navbar and inside the viewport */
  max-height: calc(100vh - var(--nav-h) - 16px);
  overflow: auto;
  overscroll-behavior: contain;
}

/* Optional: nicer scrollbar (Chromium/WebKit) */
.navbar-dropdown-menu.admin-menu::-webkit-scrollbar{
  width: 10px;
}
.navbar-dropdown-menu.admin-menu::-webkit-scrollbar-track{
  background: transparent;
}
.navbar-dropdown-menu.admin-menu::-webkit-scrollbar-thumb{
  background: rgba(0,0,0,.2);
  border-radius: 8px;
}
.navbar-dropdown-menu.admin-menu::-webkit-scrollbar-thumb:hover{
  background: rgba(0,0,0,.3);
}




  /* === Centrage parfait du logo sur mobile === */
@media (max-width: 900px){
    /* 3 colonnes: 1fr | auto (logo) | 1fr  */
    .navbar-row-mobile{
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      height: 64px;
    }
  
    /* ancrages des extrémités pour ne pas tirer le centre */
    .navbar-toggle{ justify-self: start; }         /* burger à gauche */
    .navbar-logo{ justify-self: center; }          /* logo au centre */
    .navbar-right-icons{ justify-self: end; }      /* icônes à droite */
  
    /* tailles confort */
    .logo-img{ height: 28px; }                     /* pile dans 64px */
    .nav-ico-btn{ width: 34px; height: 34px; }     /* compacts */
    .navbar-toggle .bar{ width: 22px; height: 3px; margin: 3px 0; }
  }

  /* --- Ordre d’empilement : le drawer AU-DESSUS du navbar --- */
.navbar-container{
    z-index: 1200;            /* navbar (reste en-dessous du drawer) */
  }
  
  /* overlay + panneau du menu : très au-dessus */
  .mm-overlay{
    z-index: 6000;            /* > navbar */
  }
  .mm-panel{
    z-index: 6001;            /* > overlay et > navbar */
  }
  
  /* tête du drawer (bouton X) toujours cliquable même si on scrolle dedans */
  .mm-head{
    position: sticky;
    top: 0;
    z-index: 2;               /* au-dessus du contenu du panneau */
    background: #0f1115;
  }

/* 
  .navbar-dropdown-toggle { touch-action: manipulation; }  */

  
  
  