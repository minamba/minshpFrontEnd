/* ===========================
   PRODUCT PAGE
   =========================== */

   :root{
    --shadow-1: 0 6px 18px rgba(0,0,0,.06);
    --shadow-2: 0 10px 30px rgba(0,0,0,.08);
  }
  
  /* Conteneur principal */
  .product-page{
    box-sizing:border-box;
    max-width:1200px;
    width:100%;
    margin:0 auto;
    padding:2rem;
  }
  
  /* Zone haute: vignettes | image | détails */
  .product-main{
    display:grid;
    grid-template-columns:140px minmax(0,1fr) 560px;
    column-gap:40px;
    align-items:start;
  }
  
  /* Vignettes */
  .thumbs-col{
    display:flex;
    flex-direction:column;
    gap:12px;
    max-height:520px;
    overflow:auto;
  }
  .thumbs-col .thumb{
    padding:0;
    border:0;
    background:#f3f4f6;
    border-radius:12px;
    width:110px;
    height:110px;
    cursor:pointer;
    box-shadow:var(--shadow-1);
  }
  .thumbs-col .thumb img{
    width:100%;
    height:100%;
    object-fit:contain;
    border-radius:12px;
  }
  
  /* Image principale */
  .product-main-image-wrap{
    justify-self:center;
    width:100%;
    min-height:460px;
    display:flex;
    align-items:center;
    justify-content:center;
    background:white;
    border-radius:18px;
    padding:18px;
    box-shadow:var(--shadow-2);
    overflow:hidden;
  }
  .product-main-image{
    display:block;
    width:100%;
    height:auto;
    max-height:520px;
    object-fit:contain;
  }
  
  /* Colonne détails */
  .product-details{
    border-left:1px solid #e5e7eb;
    padding-left:40px;
    max-width:560px;
    position:sticky;
    top:1rem;
    align-self:flex-start;
  }
  .product-brand{ color:#666; margin:0 0 .25rem; }
  .product-title.product-title--center{ grid-column:1 / -1; text-align:center; }
  
  /* ------- Prix / Promo ------- */
  .refprice-wrap{ margin:4px 0 8px; }
  .refprice-label{ font-weight:800; color:#6b7280; font-size:.9rem; margin-bottom:4px; }
  .refprice-row{ display:flex; align-items:center; gap:8px; }
  .refprice-old{ color:#6b7280; text-decoration:line-through; font-weight:700; }
  .refprice-badge{
    display:inline-flex; align-items:center; justify-content:center;
    background:#ef4444; color:#fff; font-weight:900; border-radius:8px;
    padding:2px 8px; font-size:.85rem;
  }
  .price--big{ font-weight:900; line-height:1; }
  .price--big .euros{ font-size:2.2rem; }
  .price--big .cents{ font-size:1rem; margin-left:2px; }
  .promo-until{
    display:inline-block; margin-top:4px; padding:4px 8px; border-radius:8px;
    background:#fff7ed; color:#b45309; border:1px solid #fde68a; font-weight:800;
  }
  
  .product-description{ font-size:1.1rem; color:#555; }
  
  /* ------- Stock / Achat ------- */
  .stock-row{ display:flex; align-items:center; gap:8px; margin:.75rem 0 1rem; font-weight:700; }
  .stock-row.stock-in{ color:#138a36; }
  .stock-row.stock-out{ color:#dc2626; }
  .stock-row.stock-warn{ color:#b45309; }
  .stock-dot{ width:10px; height:10px; border-radius:50%; display:inline-block; background:#d1d5db; }
  .stock-dot.in{ background:#22c55e; } .stock-dot.out{ background:#ef4444; } .stock-dot.warn{ background:#f59e0b; }
  
  .buy-row{ display:flex; gap:12px; align-items:center; }
  .qty-select{
    padding:.6rem .8rem; border-radius:12px; border:1px solid #ddd; background:#fff;
  }
  .buy-button{
    padding:.8rem 2rem; background:#000; color:#fff; border:0; border-radius:50px;
    font-size:1rem; cursor:pointer;
  }
  .buy-button.buy-accent{ background:linear-gradient(135deg,#416bf5,#4364f8); }
  .buy-button:disabled{ opacity:.5; cursor:not-allowed; }
  
  .trust-list{ margin-top:24px; display:flex; flex-direction:column; gap:6px; color:#374151; font-weight:500; }
  .trust-ico{ font-size:18px; }
  
  /* ------- Description / Vidéo ------- */
  .product-desc{ margin-top:2.5rem; }
  .product-desc h2{ font-size:1.8rem; margin:0 0 .75rem; }
  .product-desc p{ font-size:1.1rem; color:#374151; line-height:1.65; margin:0; }
  
  .product-video{ width:100%; height:clamp(240px,45vw,560px); border-radius:16px; background:#000; display:block; box-shadow:var(--shadow-2); object-fit:cover; }
  
  /* =========================================================
     PRODUCT — Caractéristiques techniques (SPEC SHEET)
     ========================================================= */
  
  /* Bloc global */
  .specs-wrap{ margin-top:2.5rem; }
  .specs-title{ font-size:1.8rem; font-weight:900; margin:0 0 1rem; }
  
  /* Grille nav (ancres) + contenu */
  .specs-layout{
    display:grid;
    grid-template-columns:260px 1fr;
    gap:24px;
  }
  
  /* Navigation (ancres) */
  .specs-nav{
    position:sticky;
    top:110px; /* sous la navbar */
    align-self:start;
    display:flex; flex-direction:column; gap:10px;
  }
  .specs-nav a{
    color:#2b3ff0; text-decoration:none; font-weight:700;
  }
  .specs-nav a:hover{ text-decoration:underline; }
  
  /* Panneau specs */
  .specs-content{
    background:#ffffffcc;
    border-radius:12px;
    padding:16px;
  }
  .specs-section{ margin-bottom:18px; }
  .specs-section h3{ margin:1.5rem 0 .75rem; font-size:1.6rem; font-weight:900; }
  
  /* ===== Lignes "label — ligne — valeur" (desktop par défaut) ===== */
  .specs-table{
    display:flex;
    flex-direction:column;
    gap:6px;
  }
  .specs-row{
    display:grid;
    grid-template-columns:220px 1fr max-content; /* label | ligne | valeur */
    align-items:baseline;
    gap:12px;
  }
  .specs-label{
    min-width:220px;
    color:#333;
    font-weight:800;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
  .specs-line{
    height:1px;
    background:#cfcfcf;
    align-self:center;
    transform:translateY(2px);
  }
  .specs-value{
    min-width:160px;
    justify-self:end;
    text-align:right;
    color:#0f172a;
    font-weight:700;
    white-space:nowrap;
  }
  .specs-value code, .specs-label code{
    font-family:ui-monospace, SFMono-Regular, Menlo, monospace;
  }
  
  /* ===== Responsive ===== */
  
  /* <= 1200px : réduire un peu la grille haute */
  @media (max-width:1200px){
    .product-main{ grid-template-columns:84px minmax(0,1fr) 520px; column-gap:28px; }
  }
  
  /* <= 992px : stack la zone haute et la nav des specs */
  @media (max-width:992px){
    .product-main{ grid-template-columns:1fr; row-gap:16px; }
    .product-main-image-wrap{ min-height:300px; padding:12px; }
    .thumbs-col{ order:2; flex-direction:row; gap:8px; overflow-x:auto; overflow-y:hidden; padding:0 4px 6px; }
    .thumbs-col .thumb{ flex:0 0 72px; width:72px; height:72px; }
    .product-details{ grid-column:1/-1; border-left:0; border-top:1px solid #e5e7eb; padding-left:0; padding-top:16px; max-width:100%; }
  
    .specs-layout{ grid-template-columns:1fr; }
    .specs-nav{
      position:static;
      flex-direction:row;
      flex-wrap:wrap;
      gap:8px 16px;
    }
  }
  
  /* <= 640px : conserver 3 colonnes pour les specs (label | ligne | valeur) */
  @media (max-width:640px){
    .product-page{ padding-left:12px; padding-right:12px; }
  
    .specs-content{ padding:12px; border-radius:10px; }
    .specs-section h3{ font-size:1.2rem; margin:1rem 0 .5rem; }
  
    .specs-row{
      grid-template-columns:minmax(120px, auto) 1fr max-content;
      column-gap:10px;
      align-items:baseline;
    }
    .specs-label{ min-width:unset; }
    .specs-line{ display:block; height:1px; background:#e5e7eb; }
    .specs-value{ justify-self:end; text-align:right; white-space:nowrap; color:#0f172a; }
  }
  
  /* Très petits écrans */
  @media (max-width:380px){
    .specs-content{ padding:10px; }
    .specs-section h3{ font-size:1.05rem; }
  }
  
  /* <= 560px : mini vignettes + padding */
  @media (max-width:560px){
    .thumbs-col .thumb{ flex:0 0 64px; width:64px; height:64px; }
  }
  

  /* Séparateur de section (plein largeur du conteneur) */
  .section-divider{
    border: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #1b4caf, transparent);
    width: 100%;
    margin: 2rem 0 1.75rem;
  }

  .bg-description {
    background-color: #f5f5f7; /* bleu clair très léger */
    border-radius: 6px; /* optionnel : arrondir un peu les coins */
    padding: 1rem;      /* optionnel : aérer le contenu */
  }



  /* La description occupe bien sa hauteur et passe devant si besoin */
.product-description-html{
  display: block;
  max-height: none;
  overflow: visible;
  position: relative;
  z-index: 2;
}

/* La section vidéo est en dessous et ne chevauche pas */
.product-video-section{
  position: relative;
  z-index: 1;
  margin-top: 1rem;   /* espace clair entre les deux */
  clear: both;        /* évite toute remontée liée à des flottants éventuels */
}

.product-video{
  display: block;     /* bloc standard, pas d'empilement étrange */
}




/* Page produit : la section Description doit rester un bloc normal */
.product-page .product-desc {
  display:block;
  overflow:visible;
  -webkit-line-clamp:unset;
  -webkit-box-orient:unset;
}



/* ===== Parallax fallback quand pas de vidéo ===== */
.product-parallax {
  position: relative;
  width: 100%;
  min-height: 42vh;           /* ajuste si tu veux plus grand */
  margin: 2rem 0;
  border-radius: 16px;
  overflow: hidden;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  /* Parallax “simple” (supporté quasi partout) */
  background-attachment: fixed;
}

/* Fallback iOS (background-attachment: fixed est limité sur iOS) */
@supports (-webkit-overflow-scrolling: touch) {
  .product-parallax {
    background-attachment: scroll;
    transform: translateZ(0);   /* améliore le scroll sur iOS */
  }
}

.product-parallax__overlay {
  position: absolute; inset: 0;
  background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.55));
}

.product-parallax__content {
  position: relative;
  z-index: 1;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2rem;
  color: #fff;
}

.product-parallax__title {
  font-size: clamp(1.25rem, 2.5vw, 2rem);
  font-weight: 800;
  letter-spacing: .3px;
  margin: 0 0 .5rem 0;
}

/* Bleu signature + contraste fort, colle avec ta charte */
.product-parallax__price {
  display: inline-block;
  margin-top: .5rem;
  padding: .35rem .75rem;
  font-weight: 700;
  border-radius: 999px;
  background: rgba(16, 110, 255, .95); /* bleu “MIN’S” */
  color: #fff;
  backdrop-filter: blur(6px);
  box-shadow: 0 6px 18px rgba(16,110,255,.28);
}



.product-parallax {
  position: relative;
  width: 100%;
  min-height: 42vh;             /* ajuste la hauteur */
  margin: 2rem 0;
  border-radius: 16px;
  overflow: hidden;

  /* image injectée via variable CSS */
  background-image: var(--parallax-img);
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center calc(50% + var(--parallax-y, 0px));
  will-change: background-position; /* perfs */
}



@media (max-width: 768px) {
  .product-page.no-touch-while-lb .product-main-image-wrap,
  .product-page.no-touch-while-lb .thumbs-col {
    pointer-events: none; /* pas de clic/drag sur la galerie */
  }
  .product-page.no-touch-while-lb {
    touch-action: none;   /* évite les gestes derrière la lightbox */
  }
}



/* ===========================
   LIGHTBOX — Moderne & Épurée
   =========================== */

.lb-overlay{
  position: fixed; inset: 0;
  background: color-mix(in oklab, #0b1220 82%, transparent);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  display: grid;
  place-items: center;
  z-index: 9999;
  animation: lbFade .18s ease-out;
}
@keyframes lbFade { from { opacity: 0 } to { opacity: 1 } }

.lb-content{
  position: relative;                     /* NEW: pour gérer les z-index internes */
  width: min(96vw, 1400px);
  height: min(92vh, 860px);
  background: #0b1220;
  border-radius: 18px;
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
  display: grid;
  grid-template-rows: 56px 1fr 88px;
  overflow: hidden;
}

.lb-topbar{
  position: relative;                     /* NEW: au-dessus de l'image */
  z-index: 4;                             /* NEW */
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 12px;
  padding: 0 12px;
  color: #e5e7eb;
  background: linear-gradient(180deg, rgba(255,255,255,.06), transparent);
}
.lb-counter{
  margin-right: auto;
  font-weight: 700;
  padding-left: 12px;
  opacity: .9;
}

.lb-btn{
  appearance: none; border: 0; background: transparent; color: #fff;
  width: 40px; height: 40px; border-radius: 12px;
  display: grid; place-items: center; cursor: pointer;
  transition: background .18s ease, opacity .2s ease;  /* NEW: plus de transform ici */
}
.lb-btn:hover{ background: rgba(255,255,255,.08); }    /* NEW: pas de translateY */
.lb-btn:active{ opacity:.9; }                           /* NEW: léger feedback sans bouger */

.lb-close{
  font-size: 26px; line-height: 1; font-weight: 300;
}

.lb-stage{
  position: relative;
  width: 100%; height: 100%;
  display: grid; place-items: center;
  overflow: hidden;
}

/* Conteneur qui reçoit le background-image */
.lb-fit{
  position: relative;
  z-index: 1;                                           /* NEW: sous les flèches */
}

/* L’image de fond ne doit JAMAIS intercepter les clics des flèches */
.lb-bgi{
  position: absolute;
  inset: 0;
  margin: auto;
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  max-width: 100%;
  max-height: 100%;
  pointer-events: none;                                  /* NEW: laisse passer les clics */
  z-index: 1;                                            /* NEW */
}

/* Flèches : toujours au-dessus de l’image et stables sur hover */
.lb-arrow{
  position: absolute;
  top: 50%; transform: translateY(-50%);                /* garder la même transform */
  font-size: 38px; line-height: 0;
  width: 48px; height: 48px; border-radius: 14px;
  background: rgba(255,255,255,.06);
  box-shadow: var(--shadow-2);
  backdrop-filter: blur(3px);
  z-index: 3;                                           /* NEW: > image */
  will-change: transform;
}
.lb-prev{ left: 14px; }
.lb-next{ right: 14px; }

/* Empêche tout “saut” au survol/active */
.lb-arrow:hover,
.lb-arrow:active{
  transform: translateY(-50%);                          /* NEW: pas de translateY additionnel */
  background: rgba(255,255,255,.10);
}

.lb-thumbs{
  position: relative; z-index: 2;                       /* NEW: sous la topbar, au-dessus image */
  display: flex; gap: 10px;
  align-items: center; justify-content: center;
  padding: 10px 14px 16px;
  background: linear-gradient(0deg, rgba(255,255,255,.06), transparent);
  overflow-x: auto;
}
.lb-thumb{
  flex: 0 0 auto;
  width: 68px; height: 68px;
  border-radius: 10px; background: #0f172a; border: 1px solid #1f2937;
  padding: 0; box-shadow: var(--shadow-1);
  opacity: .85; transition: opacity .15s ease, transform .08s ease, border-color .2s ease;
}
.lb-thumb:hover{ opacity: 1; transform: translateY(-1px); }
.lb-thumb.is-active{
  border-color: #416bf5;
  box-shadow: 0 8px 22px rgba(65,107,245,.28);
  opacity: 1;
}
.lb-thumb img{
  width: 100%; height: 100%; object-fit: cover; border-radius: 9px;
}

/* Responsive */
@media (max-width: 992px){
  .lb-content{
    width: 100vw; height: 100dvh; border-radius: 0;
    grid-template-rows: 56px 1fr 92px;
  }
  .lb-arrow{ width: 44px; height: 44px; }
  .lb-thumb{ width: 64px; height: 64px; }
}
@media (max-width: 560px){
  .lb-thumb{ width: 58px; height: 58px; }
  .lb-arrow{ display:none; } /* on privilégie le swipe sur très petit écran */
}

/* ==== visibilité/photo desktop (ne change pas) ==== */
.lb-stage { padding: 0; overflow: hidden; }
.lb-stage .lb-image{
  width: auto !important;
  height: auto !important;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
  box-sizing: border-box;
  transform: none;
}
@media (max-width: 992px){
  .lb-stage .lb-image{ max-width: 100%; max-height: 100%; }
}

@keyframes lbIn { from { opacity: 0; transform: scale(.985) } to { opacity: 1; transform: scale(1) } }

.lb-arrow{
  position: absolute;
  top: 50%; transform: translateY(-50%);
  font-size: 38px; line-height: 0;
  width: 48px; height: 48px; border-radius: 14px;
  background: rgba(255,255,255,.06);
  box-shadow: var(--shadow-2);
  backdrop-filter: blur(3px);
}
.lb-prev{ left: 14px; }
.lb-next{ right: 14px; }

.lb-thumbs{
  display: flex; gap: 10px;
  align-items: center; justify-content: center;
  padding: 10px 14px 16px;
  background: linear-gradient(0deg, rgba(255,255,255,.06), transparent);
  overflow-x: auto;
}
.lb-thumb{
  flex: 0 0 auto;
  width: 68px; height: 68px;
  border-radius: 10px; background: #0f172a; border: 1px solid #1f2937;
  padding: 0; box-shadow: var(--shadow-1);
  opacity: .85; transition: opacity .15s ease, transform .08s ease, border-color .2s ease;
}
.lb-thumb:hover{ opacity: 1; transform: translateY(-1px); }
.lb-thumb.is-active{
  border-color: #416bf5;
  box-shadow: 0 8px 22px rgba(65,107,245,.28);
  opacity: 1;
}
.lb-thumb img{
  width: 100%; height: 100%; object-fit: cover; border-radius: 9px;
}

/* Responsive */
@media (max-width: 992px){
  .lb-content{
    width: 100vw; height: 100dvh; border-radius: 0;
    grid-template-rows: 56px 1fr 92px;
  }
  .lb-arrow{ width: 44px; height: 44px; }
  .lb-thumb{ width: 64px; height: 64px; }
}
@media (max-width: 560px){
  .lb-thumb{ width: 58px; height: 58px; }
  .lb-arrow{ display:none; } /* on privilégie le swipe sur très petit écran */
}

/* ==== Lightbox: assurer l'image 100% visible sur desktop ==== */
.lb-stage {
  padding: 0;
  overflow: hidden;
}

.lb-stage .lb-image{
  /* neutralise les styles globaux type img{width:100%} */
  width: auto !important;
  height: auto !important;

  /* contrainte au conteneur visible */
  max-width: 100%;
  max-height: 100%;

  /* le “contain” fait le boulot une fois width/height libérés */
  object-fit: contain;

  display: block;
  box-sizing: border-box;
  /* pas de transform par défaut (zoom) */
  transform: none;
}

/* Optionnel : sur très petits écrans, rien à changer */
@media (max-width: 992px){
  .lb-stage .lb-image{
    max-width: 100%;
    max-height: 100%;
  }
}


.lb-content { box-sizing: border-box; }
.lb-stage   { overflow: hidden; }



/* Cacher toutes les barres de scroll dans la lightbox (Windows/Firefox/WebKit) */
.lb-overlay,
.lb-content,
.lb-stage,
.lb-fit,
.lb-thumbs {
  /* Firefox */
  scrollbar-width: none;
  /* IE/Edge Legacy */
  -ms-overflow-style: none;
}

/* WebKit (Chrome/Edge/Opera/Safari) */
.lb-overlay::-webkit-scrollbar,
.lb-content::-webkit-scrollbar,
.lb-stage::-webkit-scrollbar,
.lb-fit::-webkit-scrollbar,
.lb-thumbs::-webkit-scrollbar {
  width: 0;
  height: 0;
  display: none;
}

/* La rangée de vignettes garde son défilement horizontal, mais sans barre visible */
.lb-thumbs {
  overflow-x: auto;      /* conserve le scroll */
  overflow-y: hidden;    /* évite une barre verticale parasite */
}

/* Évite tout “rebond”/propagation du scroll sous la lightbox */
.lb-overlay {
  overscroll-behavior: contain;
}




.specs-value {
  color: #6c757d;        /* gris neutre / muted */
  font-weight: 500;      /* optionnel : légèrement moins fort */
}


/* Centrer le bloc rating comme le titre */
.product-rating-center{
  display:flex;
  justify-content:center;
  margin:.25rem 0 .5rem;
}

/* (optionnel) assurer le bleu des étoiles ici aussi */
:root{
  --star-blue:#0ea5e9;   /* bleu */
  --star-empty:#d1d5db;  /* gris clair */
}





/* ===== AVIS CLIENTS ===== */
.reviews-section{ margin-top:2.5rem; }
.reviews-grid{
  display:grid; grid-template-columns:280px 1fr; gap:32px;
  align-items:start;
}
@media (max-width:900px){
  .reviews-grid{ grid-template-columns:1fr; }
}

/* Colonne gauche (summary) */
.reviews-summary{
  background:#fff; border-radius:16px; box-shadow:var(--shadow-2, 0 10px 30px rgba(0,0,0,.08));
  padding:18px;
}
.reviews-h3{ margin:0 0 .25rem; font-weight:800; font-size:1.1rem; }
.reviews-average{ display:flex; flex-direction:column; gap:6px; margin-bottom:10px; }
.reviews-guideline{ font-size:.9rem; color:#6b7280; }

.reviews-bars{ list-style:none; margin:8px 0 14px; padding:0; display:flex; flex-direction:column; gap:8px; }
.reviews-bar{ display:grid; grid-template-columns:auto 1fr auto; gap:10px; align-items:center; }
.reviews-bar-left{ min-width:90px; }
.reviews-bar-mid{ }
.reviews-bar-track{ height:8px; border-radius:999px; background:#eef2f7; overflow:hidden; }
.reviews-bar-fill{ height:100%; background:var(--star-blue,#0ea5e9); }

.reviews-cta{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.55rem 1rem; border:1.5px solid #111; border-radius:999px; background:#fff;
  font-weight:700; cursor:pointer; transition:transform .05s, box-shadow .2s;
}
.reviews-cta:hover{ transform:translateY(-1px); box-shadow:0 10px 24px rgba(0,0,0,.08); }

/* Colonne droite (liste) */
.reviews-list{ background:#fff; border-radius:16px; box-shadow:var(--shadow-2, 0 10px 30px rgba(0,0,0,.08)); padding:6px 18px; }
.reviews-empty{ color:#6b7280; padding:12px 0; }

.review-card{ padding:12px 0; }
.review-head{
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:10px;
}
.review-author{ font-weight:700; }
.review-date{ color:#6b7280; font-size:.9rem; }
.review-title{ margin:.3rem 0 .2rem; font-weight:700; }
.review-body{ margin:0 0 .4rem; color:#111; line-height:1.55; }
.review-meta{ color:#6b7280; font-size:.9rem; }
.review-sep{ border:0; border-top:1px solid #eee; margin:12px 0 6px; }

/* étoiles bleues (fallback) */
:root{
  --star-blue:#0e53e9;
  --star-empty:#d1d5db;
}



/* Compact: étoiles + "n avis" sur la même ligne */
.reviews-bars--compact { margin-top: 8px; }
.reviews-bar--compact{
  display:flex;
  align-items:center;
  gap:10px;
  padding:6px 0;
}

/* on n'affiche plus la barre ni la colonne droite */
.reviews-bar--compact .reviews-bar-mid,
.reviews-bar--compact .reviews-bar-right { display:none !important; }

.reviews-bar-left{
  display:flex; align-items:center; gap:10px;
}

/* compteur à côté des étoiles */
.reviews-row-count{
  font-weight:700; color:#6b7280; /* adapte si besoin */
}

/* lignes sans avis en atténué */
.reviews-bar--compact.is-zero{
  opacity:.4;
}


/* Supprime le compteur interne du composant étoiles pour éviter le doublon */
.rating--no-count .rating__count { display: none !important; }

/* Compact: étoiles + compteur */
.reviews-bars--compact { margin-top: 8px; }
.reviews-bar--compact { display:flex; align-items:center; padding:6px 0; }
.reviews-bar--compact .reviews-bar-left { display:flex; align-items:center; gap:10px; }

/* Met en avant les lignes avec des avis, atténue les 0 */
.reviews-bar--compact.has-reviews { opacity: 1; font-weight: 700; }
.reviews-bar--compact.is-zero     { opacity: .35; font-weight: 600; }

/* Par sécurité, aucun autre compteur à droite */
.reviews-bar--compact .reviews-bar-mid,
.reviews-bar--compact .reviews-bar-right { display: none !important; }



/* Carte avis à droite */
.review-card {
  padding: 20px 0;
  border: none;
  width: 100%;
}

/* Ligne de séparation visible et pleine largeur */
.review-sep {
  width: 100%;
  height: 2px; /* épaisseur */
  background: #ccc; /* gris clair visible */
  border: none;
  margin: 24px 0 0;
  opacity: 0.8;
}

/* ❌ Masquer le HR du dernier commentaire */
.review-card:last-of-type .review-sep {
  display: none;
}

/* Ligne du haut : étoiles + date */
.review-toprow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 6px;
}

.review-date-right {
  color: #9aa3af;
  font-size: 0.95rem;
  white-space: nowrap;
}

/* Auteur */
.review-author-line {
  margin-bottom: 10px;
  color: #111827;
  font-weight: 600;
}

/* Titre */
.review-title {
  margin: 0 0 8px 0;
  font-weight: 700;
  color: #111827;
  line-height: 1.4;
}

/* Message */
.review-message {
  margin: 0 0 12px;
  line-height: 1.55;
}

.review-message.muted {
  color: #6b7280;
}

/* Pied */
.review-footer {
  display: flex;
  flex-direction: column;
  gap: 2px;
  color: #9aa3af;
  font-size: 0.9rem;
}

/* Liste globale */
.reviews-list {
  width: 100%;
}

/* Empêche le doublon "X avis" généré par RatingStars */
.rating--no-count .rating__count {
  display: none !important;
}



/* Cache le compteur intégré de RatingStars pour éviter le doublon */
.product-rating-center .rating__count,
.rating--no-count .rating__count {
  display: none !important;
}

/* Ligne étoiles + lien compteur cliquable */
.product-rating-center{
  display:flex;
  align-items:center;
  justify-content:center; /* centré comme le titre */
  gap:10px;
  margin-top:6px;
}

.rating-jump-link{
  background:none;
  border:0;
  padding:0;
  font:inherit;
  color:#2563eb;           /* bleu lien */
  cursor:pointer;
  text-decoration:underline;
}
.rating-jump-link:hover{ color:#1d4ed8; }



/* ===== Backdrop + Modale AVIS (z-index maîtrisé) ===== */
.app-backdrop{
  position: fixed; inset: 0;
  background: rgba(11, 18, 32, .45);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  z-index: 1990;            /* derrière la modale */
}

.app-modal{
  position: fixed; inset: 0;
  display: grid; place-items: center;
  z-index: 2000;            /* devant le backdrop */
}

.app-modal__dialog{
  width: min(720px, 96vw);
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  overflow: hidden;
}

.app-modal__header{
  display:flex; align-items:center; justify-content:space-between;
  padding: 16px 18px 8px;
  border-bottom: none;
}
.app-modal__title{ margin:0; font-weight:800; }

.app-modal__body{ padding: 8px 18px 6px; }
.app-modal__footer{
  display:flex; gap:10px; justify-content:flex-end;
  padding: 12px 18px 16px;
  border-top:none;
}

/* Étoiles bleues */
:root{
  --star-blue:#0e5be9;   /* bleu */
  --star-empty:#d1d5db;  /* gris clair */
}
.rate-stars{ font-size: 0; }              /* supprime l'espace entre boutons inline */
.star-btn{
  font-size: 28px; line-height: 1;
  background: none; border: none; cursor: pointer;
  padding: 2px 4px;
  color: var(--star-empty);
  transition: transform .08s ease, color .15s ease;
}
.star-btn.is-on{ color: var(--star-blue); filter: drop-shadow(0 1px 2px rgba(0,0,0,.18)); }
.star-btn:hover{ transform: translateY(-1px) scale(1.03); }

/* Libellés en gras dans le formulaire d'avis */
.rate-form .form-label{ font-weight: 700; }



.verified-badge {
  margin-left: 10px;
  padding: 2px 8px 3px;
  border-radius: 999px;
  font-size: 0.8rem;
  font-weight: 600;
  color: #c27706;  /* vert émeraude */
  background: rgba(238, 195, 52, 0.12); /* fond translucide */
  border: 1px solid rgba(145, 97, 9, 0.25);
  backdrop-filter: blur(3px);
}



/* ===== Page verrouillée quand la lightbox est ouverte ===== */
.product-page.is-locked {
  touch-action: none; /* empêche les gestes (pinch/scroll) */
}

/* Coupe toutes les interactions derrière la lightbox */
.product-page.is-locked > *:not(.lb-overlay) {
  pointer-events: none !important;
  user-select: none !important;
}

/* Optionnel : si tu veux aussi éviter les focus via tab */
.product-page.is-locked > *:not(.lb-overlay) :is(a, button, input, textarea, select) {
  pointer-events: none !important;
}


/* Empêche l’overscroll/elastic sur iOS + overflow partout */
html.scroll-lock, body.scroll-lock {
  overflow: hidden !important;
  overscroll-behavior: none !important;
  height: 100% !important;
}

/* (facultatif) évite les “rebonds” sur certains navigateurs */
*,
*::before,
*::after {
  overscroll-behavior: contain;
}





/* <= 390px : label au-dessus, valeur en dessous */
@media (max-width: 390px){
  .specs-row{
    display: grid;
    grid-template-columns: 1fr;      /* une seule colonne */
    grid-template-rows: auto auto;   /* label puis valeur */
    row-gap: 4px;
    align-items: start;
  }

  /* on cache la ligne "-----" du milieu */
  .specs-line{ display: none !important; }

  /* le label passe en ligne 1 */
  .specs-label{
    min-width: 0;
    white-space: normal;            /* autorise le retour à la ligne */
    overflow: visible;
    text-overflow: unset;
  }

  /* la valeur passe en ligne 2, à gauche, et peut s'étendre */
  .specs-value{
    justify-self: start;
    text-align: left;
    min-width: 0;
    white-space: normal;            /* wrap normal */
    overflow-wrap: anywhere;        /* coupe proprement si un mot est trop long */
    word-break: break-word;
    color: #0f172a;                 /* même couleur que desktop */
    font-weight: 600;               /* un peu moins “gras” si tu veux */
  }
}



/* ============================
   REVIEWS — Très petits écrans
   ============================ */
@media (max-width: 400px){

  /* grille déjà en 1 colonne, on compacte juste un peu */
  .reviews-summary{ padding:12px; }
  .reviews-list   { width:100%; }

  /* bouton plein largeur */
  .reviews-cta{
    width:100%;
    justify-content:center;
  }

  /* lignes "5★  X avis" compactes et wrap si besoin */
  .reviews-bars--compact { margin-top:6px; }
  .reviews-bar--compact  { padding:4px 0; }
  .reviews-bar-left{
    flex-wrap:wrap;
    row-gap:2px;
  }
  .reviews-row-count{
    font-weight:700;
    font-size:.95rem;
    white-space:normal;
  }

  /* une carte avis bien lisible */
  .review-card   { padding:14px 0; }
  .review-title  { font-size:1rem; word-break:break-word; overflow-wrap:anywhere; }
  .review-message{ font-size:.95rem; word-break:break-word; overflow-wrap:anywhere; }
  .review-footer { font-size:.85rem; }

  /* Ligne du haut : étoiles au-dessus, date en dessous (gauche) */
  .review-toprow{
    flex-direction:column;
    align-items:flex-start;
    gap:4px;
  }
  .review-stars{
    transform:scale(.95);           /* mini gain de place */
    transform-origin:left top;
  }
  .review-date-right{
    align-self:flex-start;
    font-size:.85rem;
    white-space:normal;             /* permet le retour à la ligne */
  }

  /* Auteur + badge sur une ligne, wrap si long */
  .review-author-line{
    display:flex;
    align-items:center;
    gap:6px;
    flex-wrap:wrap;
    font-size:.95rem;
  }
  .verified-badge{
    margin-left:0;                  /* pas de décalage inutile */
    font-size:.75rem;
    padding:2px 6px 3px;
  }

  /* Séparateur visible mais compact */
  .review-sep{
    height:1px;
    margin:18px 0 0;
    opacity:.9;
  }
}


