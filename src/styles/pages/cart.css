/* ========== styles/components/product-card.css ========== */

/* Carte & vignette */
.product-card{
  background:#f6f7f9;border-radius:20px;box-shadow:var(--shadow-2);
  padding:16px;display:flex;flex-direction:column;gap:10px;
  transition:box-shadow .2s,transform .12s;
}
.product-card:hover{transform:translateY(-2px);box-shadow:0 16px 36px rgba(0,0,0,.08)}

.product-thumb{
  position:relative;width:100%;aspect-ratio:4/3;background:#fff;border-radius:12px;
  overflow:hidden;display:flex;align-items:center;justify-content:center;padding:10px;
}
.product-thumb img,.product-thumb picture>img{max-width:100%;max-height:100%;object-fit:contain!important}

/* Badge “Promotion” */
.promo-pill{
  position:absolute;top:10px;right:10px;z-index:2;padding:6px 10px;border-radius:999px;
  font-weight:900;font-size:.85rem;line-height:1;color:#fff;
  background:linear-gradient(180deg,#5376e7,#3d77e4);border:1px solid #3971d8;box-shadow:var(--shadow-1);
}

/* Hover overlay + bouton ajouter */
.thumb-overlay{position:absolute;inset:0;border-radius:12px;background:rgba(0,0,0,.18);opacity:0;transition:opacity .18s ease;pointer-events:none}
.thumb-add-btn{
  position:absolute;right:10px;bottom:10px;width:42px;height:42px;border:0;border-radius:12px;background:#365afc;color:#fff;
  display:flex;align-items:center;justify-content:center;box-shadow:0 8px 20px rgba(0,0,0,.18);cursor:pointer;opacity:0;transform:translateY(6px);
  transition:opacity .18s,transform .18s,filter .18s;
}
.product-card:hover .thumb-overlay{opacity:1}
.product-card:hover .thumb-add-btn{opacity:1;transform:translateY(0)}

.product-name{
  font-size:1.05rem;font-weight:800;margin:4px 0 0;color:#2b2b2b;line-height:1.35;
  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;
}

/* Prix */
.new-price-row{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-top:2px}
.product-price{font-weight:800;margin-top:4px}
.product-price .euros{font-size:1.1rem}
.product-price .cents{font-size:.8rem;vertical-align:super;margin-left:2px}

/* Ancien prix barré + couleur promo */
.price-old{
  align-self:flex-end;color:#6b7280;font-weight:800;font-size:.95rem;
  text-decoration:line-through;text-decoration-thickness:2px;text-decoration-color:#d1d5db;
}
.product-price--promo .euros,.product-price--promo .cents{color:#ef4444}

/* Chips stock */
.card-stock{display:inline-flex;align-items:center;gap:6px;font-weight:700;font-size:.9rem;padding:4px 8px;border-radius:999px;background:#f3f4f6;color:#374151}
.card-stock-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.card-stock.in{background:var(--stock-in-bg);color:var(--stock-in-tx);border:1px solid var(--stock-in-br)}
.card-stock.in .card-stock-dot{background:#22c55e}
.card-stock.warn{background:var(--stock-warn-bg);color:var(--stock-warn-tx);border:1px solid var(--stock-warn-br)}
.card-stock.warn .card-stock-dot{background:#f59e0b}
.card-stock.out{background:var(--stock-out-bg);color:var(--stock-out-tx);border:1px solid var(--stock-out-br)}
.card-stock.out .card-stock-dot{background:#ef4444}


/* ===========================
   CART — page panier
   =========================== */

.cart-page{ max-width:1200px; margin:0 auto; padding:2rem; }

.cart-title{
  margin:0 0 1rem;
  font-size:1.8rem;
  font-weight:900;
  text-align:left;
}

/* Layout 2 colonnes : lignes gauche / résumé droite */
.cart-grid{
  display:grid;
  grid-template-columns:1fr 360px;
  gap:24px;
}

/* Tableau des lignes */
.cart-lines{
  background:#fff;
  border-radius:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
  overflow:hidden;
}

.cart-head{
  display:grid;
  grid-template-columns:1fr 140px 140px;
  gap:12px;
  padding:12px 16px;
  font-weight:900;
  color:#374151;
  border-bottom:1px solid #e5e7eb;
}

/* ====== LIGNE PANIER : grille (desktop/tablette) ====== */
.cart-line{
  display:grid;
  grid-template-columns: 1fr 140px 140px 36px; /* infos | qty | sub | X */
  align-items:center;
  gap:12px;
  padding:14px 16px;
  border-bottom:1px solid #f0f0f0;
}

/* bloc gauche = media + infos produit */
.line-left{
  display:grid;
  grid-template-columns: 110px 1fr; /* vignette | infos */
  gap:14px;
  align-items:start;
  min-width:0;
}

/* media */
.line-media{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
}
.cart-thumb{
  width:100px; height:100px;
  border-radius:10px;
  object-fit:contain;
  background:#f6f7f9;
}

/* infos = nom + badge + messages */
.line-info .line-name{
  display:inline-block;
  margin:0;
  color:#111827; font-weight:900;
  text-decoration:none;
}
.line-info .line-name:hover{ text-decoration:underline; }

/* nom + badge stock sur une ligne en desktop (no wrap) */
.line-info{ min-width: 0; }
.line-title{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:nowrap;
}
.line-title .line-name{
  display:block;
  max-width:100%;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.line-title .card-stock{ flex:0 0 auto; }

.line-alert{ color:#dc2626; font-weight:700; margin-top:6px; }
.line-code{ display:inline-block; margin-top:6px; font-weight:700; font-size:.85rem; color:#1569e6; }

/* quantité centrée dans sa colonne */
.line-qty{ justify-self:center; }
.qty-select{
  padding:.6rem .8rem;
  border-radius:12px;
  border:1px solid #ddd;
  background:#fff;
}

/* sous-total bien à droite et lisible */
.line-sub{
  justify-self:end;
  text-align:right;
  white-space:nowrap;
  font-weight:900;
  font-size:1.05rem;
}

/* bouton supprimer */
.line-remove{
  width:32px; height:32px;
  border-radius:10px; border:0;
  background:#f3f4f6; display:grid; place-items:center;
  cursor:pointer;
}
.line-remove:hover{ background:#e5e7eb; }

/* Code promo */
.cart-promo{
  background:#fafafa;
  border:1px dashed #e5e7eb;
  border-radius:12px;
  padding:16px;
  margin-top:16px;
}
.promo-title{ margin:0 0 8px; color:#374151; font-weight:800; }
.promo-row{ display:flex; gap:10px; }
.promo-input{ flex:1; }
.promo-btn{
  border:0; border-radius:12px; padding:10px 18px;
  background:#111; color:#fff; cursor:pointer; font-weight:800;
}
.promo-btn:hover{ filter:brightness(.95); }
.promo-applied{ margin-top:8px; color:#059669; font-weight:800; }

/* Résumé / checkout */
.cart-summary{
  position:sticky; top:110px; align-self:start;
  background:#fff;
  border-radius:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
  padding:18px;
}
/* Titre du récap sur une seule ligne */
.sum-title{
  white-space: nowrap;       /* empêche le retour à la ligne */
  overflow: hidden;          /* masque l’excédent */
  text-overflow: ellipsis;   /* ajoute "…" si ça dépasse */
  margin:0 0 10px;
  font-weight:900;
}
.sum-amount{ font-size:2rem; font-weight:900; margin-bottom:8px; }

.checkout-btn{
  width:100%;
  border:0; border-radius:999px;
  padding:14px 18px;
  color:#fff; font-weight:900; cursor:pointer;
  margin:10px 0 8px;
  background:linear-gradient(135deg,#3b79ff,#2c5dff);
}
.checkout-btn:hover{ filter:brightness(.98); }

.checkout-btn-disabled{
  width:100%; border:0; border-radius:999px;
  padding:14px 18px; color:#fff; font-weight:900;
  margin:10px 0 8px;
  background:linear-gradient(135deg,#68686867,#4b4b4b41);
}

/* — Largeur de page du panier — */
@media (max-width:992px){
  .cart-grid{ grid-template-columns:1fr; }
}

/* ===== MOBILE (<=680px)
   1) Ligne header (pleine largeur) = Nom + badge stock centrés + HR
   2) Ligne suivante = Image | Quantité | Montant | X
   ===== */
@media (max-width:680px){

  /* Nouvelle grille mobile */
  .cart-line{
    grid-template-columns: 96px 1fr auto 36px;  /* media | qty | sub | remove */
    grid-template-areas:
      "header header header header"
      "media  qty    sub    remove";
    align-items:start;
    row-gap:10px;
  }

  /* Aplatit le conteneur d'infos pour pouvoir positionner le header */
  .line-left{ display:contents; }
  .line-info{ display:contents; }

  /* Header = nom + badge centrés, avec un trait dessous */
  .line-title{
    grid-area: header;
    display:flex;
    flex-direction:row;
    justify-content:center;      /* centre horizontalement */
    align-items:center;
    gap:8px;
    flex-wrap:wrap;
    text-align:center;
    padding-bottom:8px;
    border-bottom:1px solid #eee;/* hr visuel */
    margin-bottom:4px;
  }
  .line-title .line-name{
    white-space:nowrap;           /* évite le retour à la ligne */
    overflow:hidden;
    text-overflow:ellipsis;
    max-width:70%;                /* laisse de la place pour le badge */
  }

  /* Seconde ligne */
  .line-media{ grid-area: media; }
  .line-qty{ grid-area: qty; justify-self:start; }
  .line-sub{ grid-area: sub; justify-self:end; text-align:right; }
  .line-remove{ grid-area: remove; justify-self:end; }

  /* Vignette compacte */
  .cart-thumb{ width:84px; height:84px; }
}


@media (max-width:680px){
  .d-none-mobile { display: none; }
}


@media (max-width:680px){
  .line-title {
    background: #000000;   /* bleu */
    color: #0e1d61;           /* texte en blanc */
    border-radius: 8px;
    padding: 6px 10px;
  }

  .line-title .line-name {
    color: #fff;           /* titre en blanc */
  }

  .line-title .card-stock {
    background: rgba(255,255,255,0.2);  /* badge avec fond semi-transparent */
    color: #fff;
    border: none;
  }

  .line-title .card-stock-dot {
    background: #fff;      /* point blanc */
  }
}


