/* ===========================
   CATEGORY — hero, pills, toolbar, filtre mobile
   =========================== */
   .category-page{ transform:none !important; }

   .category-hero{
     position:relative; min-height:240px; display:grid; place-items:center; border-radius:12px; overflow:hidden;
     margin:0 0 18px; background:#0b1f44;
   }
   .category-hero::before{
     content:""; position:absolute; inset:0; background-image:var(--hero-url);
     background-size:cover; background-position:center; transform:scale(1.02);
     filter:brightness(.85) saturate(1.05);
   }
   .category-hero::after{ content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.45)); }
   .category-hero__title{
     position:relative; z-index:1; margin:0; padding:6px 14px; border-radius:12px; color:#fff; font-weight:900;
     font-size:clamp(1.6rem,4.6vw,3rem); text-shadow:0 3px 14px rgba(0,0,0,.35);
     background:linear-gradient(90deg,rgba(255,255,255,.18),rgba(255,255,255,.08));
     border:1px solid rgba(255,255,255,.18); backdrop-filter:blur(2px);
   }
   
   /* Pills */
   .subcat-bar{ position:relative; max-width:1200px; margin:0 auto 18px; padding:0 44px; }
   .pill-scroll{ overflow:hidden; }
   .pill-list{ display:flex; align-items:center; gap:10px; padding:2px; margin:0; list-style:none; overflow-x:auto; scrollbar-width:none; }
   .pill-list::-webkit-scrollbar{ display:none; }
   .pill-item{ flex:0 0 auto; }
   .pill{
     display:inline-flex; align-items:center; justify-content:center; padding:8px 14px; border-radius:999px;
     border:1px solid #e5e7eb; background:#fff; font-weight:900; color:#111; white-space:nowrap; cursor:pointer;
     transition:background .15s, box-shadow .15s, transform .05s, border-color .15s;
   }
   .pill:hover{ background:#f6f8ff; border-color:#cfe1ff; }
   .pill--active{ background:#eaf3ff; color:#1569e6; border-color:#cfe1ff; box-shadow:inset 0 0 0 1px #cfe1ff; }
   .pill-nav{ position:absolute; top:50%; transform:translateY(-50%); width:36px; height:36px; border-radius:999px; border:1px solid #e6e8ef; background:#fff; box-shadow:0 10px 22px rgba(0,0,0,.06); display:grid; place-items:center; font-size:20px; cursor:pointer; }
   .pill-nav:hover{ background:#f3f6ff; }
   .pill-nav--left{ left:4px; } .pill-nav--right{ right:4px; }
   .pill-nav.is-disabled{ opacity:.35; pointer-events:none; }
   
   /* Toolbar (desktop) */
   .category-toolbar{
     max-width:1200px; margin:0 auto 18px; padding:0 2rem;
     display:flex; align-items:center; justify-content:center; gap:12px; flex-wrap:wrap;
   }
   .category-search{ width:min(420px,100%); }
   .category-sort{ width:min(320px,100%); }
   .category-sort.is-placeholder{ color:#6c757d; }
   
   /* Filtre mobile */
   .mobile-filter-bar{ position:fixed; left:12px; right:12px; bottom:max(env(safe-area-inset-bottom,0px),12px); z-index:1100; pointer-events:none; display:none; }
   .mfb-btn{ width:100%; pointer-events:auto; display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:14px 16px; border:0; border-radius:999px; background:#2f6cc9; color:#fff; font-weight:900; box-shadow:0 10px 26px rgba(43, 116, 224, 0.25); }
   .mfb-badge{ display:inline-grid; place-items:center; min-width:22px; height:22px; padding:0 6px; border-radius:999px; background:#fff; color:#111; font-size:.85rem; font-weight:900; }
   .mobile-filter-spacer{ height:76px; display:none; }
   
   .mfb-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:1150; display:none; }
   .mfb-overlay.is-open{ display:block; }
   .mfb-sheet{
     position:fixed; left:0; right:0; bottom:0; z-index:1151; background:#fff; border-top-left-radius:16px; border-top-right-radius:16px;
     box-shadow:0 -10px 30px rgba(0,0,0,.18); padding:14px 14px calc(14px + env(safe-area-inset-bottom,0px));
     transform:translateY(100%); transition:transform .25s ease; display:grid; gap:12px;
   }
   .mfb-sheet.is-open{ transform:translateY(0); }
   .mfb-sheet__handle{ width:40px; height:5px; border-radius:999px; background:#e5e7eb; margin:0 auto 6px; }
   .mfb-sheet__title{ margin:2px 0 6px; text-align:center; font-weight:900; }
   .mfb-actions{ display:flex; gap:10px; }
   .mfb-actions .btn{ flex:1; border:0; border-radius:12px; padding:10px 14px; font-weight:900; cursor:pointer; }
   .mfb-actions .btn--light{ background:#f3f4f6; }
   .mfb-actions .btn--primary{ background:#111; color:#fff; }
   
   /* Mobile switches */
   @media (max-width:900px){
     .mobile-filter-bar{ display:block; }
   }
   

/* ===== Category: grille produits centrée ===== */
#category-products{
  padding: 0 0 3rem;
}

/* le wrapper de la grille doit être centré et borné */
#category-products .new-grid{
  max-width: 1200px;        /* largeur max du contenu */
  margin: 0 auto;           /* centre horizontalement */
  padding: 0 16px;          /* respirations gauche/droite */
  
  display: grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: 20px;
}
  
  @media (max-width:1200px){
    #category-products .new-grid{ grid-template-columns:repeat(3, minmax(0,1fr)); }
  }
  @media (max-width:768px){
    #category-products .new-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); }
  }
  @media (max-width:480px){
    #category-products .new-grid{ grid-template-columns:1fr; }
  }
  
  /* S’assure que les cartes ne fixent pas leur largeur */
  #category-products .product-card{ width:100%; }
  


  /* ===== Forcer 4 colonnes sur la page Catégorie ===== */
.category-page #category-products .new-grid{
    display:grid;
    grid-template-columns:repeat(4, minmax(0,1fr)) !important; /* prime sur les autres feuilles */
    gap:20px;
  }
  
  /* Permet aux items de rétrécir dans une colonne de la grille */
  .category-page #category-products .product-card,
  .category-page #category-products .product-thumb,
  .category-page #category-products .product-name{
    min-width:0;        /* évite que le contenu force la colonne à s’élargir */
  }
  
  /* Breakpoints */
  @media (max-width:1200px){
    .category-page #category-products .new-grid{
      grid-template-columns:repeat(3, minmax(0,1fr)) !important;
    }
  }
  @media (max-width:768px){
    .category-page #category-products .new-grid{
      grid-template-columns:repeat(2, minmax(0,1fr)) !important;
    }
  }
  @media (max-width:480px){
    .category-page #category-products .new-grid{
      grid-template-columns:1fr !important;
    }
  }
  
  /* Au cas où une largeur serait figée quelque part */
  .category-page #category-products .product-card{ width:100% !important; }
  

  /* ===== Grille produits — Sous-catégorie ===== */
.category-page #subcategory-products .new-grid{
  display: grid;
  grid-template-columns: repeat(4, minmax(0,1fr)) !important; /* 4 colonnes */
  gap: 20px;
}

/* Laisse les cartes rétrécir correctement dans la colonne */
.category-page #subcategory-products .product-card,
.category-page #subcategory-products .product-thumb,
.category-page #subcategory-products .product-name{
  min-width: 0;
}

/* Empêche une largeur figée quelque part */
.category-page #subcategory-products .product-card{ width:100% !important; }

/* Breakpoints identiques à la page catégorie */
@media (max-width: 1200px){
  .category-page #subcategory-products .new-grid{
    grid-template-columns: repeat(3, minmax(0,1fr)) !important;
  }
}
@media (max-width: 768px){
  .category-page #subcategory-products .new-grid{
    grid-template-columns: repeat(2, minmax(0,1fr)) !important;
  }
}
@media (max-width: 480px){
  .category-page #subcategory-products .new-grid{
    grid-template-columns: 1fr !important;
  }
}


/*subcategory-products*/
/* ===== Grille produits — Sous-catégorie ===== */
.category-page #subcategory-products .new-grid{
    display: grid;
    grid-template-columns: repeat(4, minmax(0,1fr)) !important; /* 4 colonnes */
    gap: 20px;
  }
  
  /* Laisse les cartes rétrécir correctement dans la colonne */
  .category-page #subcategory-products .product-card,
  .category-page #subcategory-products .product-thumb,
  .category-page #subcategory-products .product-name{
    min-width: 0;
  }
  
  /* Empêche une largeur figée quelque part */
  .category-page #subcategory-products .product-card{ width:100% !important; }
  
  /* Breakpoints identiques à la page catégorie */
  @media (max-width: 1200px){
    .category-page #subcategory-products .new-grid{
      grid-template-columns: repeat(3, minmax(0,1fr)) !important;
    }
  }
  @media (max-width: 768px){
    .category-page #subcategory-products .new-grid{
      grid-template-columns: repeat(2, minmax(0,1fr)) !important;
    }
  }
  @media (max-width: 480px){
    .category-page #subcategory-products .new-grid{
      grid-template-columns: 1fr !important;
    }
  }





  /* Même grille 4 → 3 → 2 → 1 pour toutes les listes */
#category-products .new-grid,
#subcategory-products .new-grid,
#news-products .new-grid,
#promo-products .new-grid{
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr)); /* 4 par ligne */
  gap: 20px;
}

@media (max-width:1200px){
  #category-products .new-grid,
  #subcategory-products .new-grid,
  #news-products .new-grid,
  #promo-products .new-grid{
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
@media (max-width:768px){
  #category-products .new-grid,
  #subcategory-products .new-grid,
  #news-products .new-grid,
  #promo-products .new-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (max-width:480px){
  #category-products .new-grid,
  #subcategory-products .new-grid,
  #news-products .new-grid,
  #promo-products .new-grid{
    grid-template-columns: 1fr;
  }
}

/* S'assure que les cartes ne forcent pas une largeur fixe */
#news-products .product-card,
#promo-products .product-card{
  width: 100%;
}


/* Force la grille pour news et promo */
section#news-products > .new-grid,
section#promo-products > .new-grid {
  display: grid !important;
  grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  gap: 20px;
}

@media (max-width:1200px){
  section#news-products > .new-grid,
  section#promo-products > .new-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
}
@media (max-width:768px){
  section#news-products > .new-grid,
  section#promo-products > .new-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}
@media (max-width:480px){
  section#news-products > .new-grid,
  section#promo-products > .new-grid {
    grid-template-columns: 1fr !important;
  }
}





/* responsive */
@media (max-width:1200px){
  #category-products .new-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}
@media (max-width:768px){
  #category-products .new-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width:480px){
  #category-products .new-grid{ grid-template-columns: 1fr; }
}

/* et évite de décaler la section avec un gros padding horizontal */
.new-section{
  padding: 3rem 0;           /* au lieu de 5rem 2rem */
}
  



/* ===== MOBILE : centrer les cartes dans la colonne ===== */
@media (max-width:480px){
  /* 1 colonne, mais on centre les items au sein de la piste */
  #category-products .new-grid,
  #subcategory-products .new-grid,
  #news-products .new-grid,
  #promo-products .new-grid{
    grid-template-columns: 1fr;
    justify-items: center;   /* clé : empêche le stretch horizontal */
    box-sizing: border-box;
  }

  /* les cartes ont une largeur max et sont centrées */
  #category-products .product-card,
  #subcategory-products .product-card,
  #news-products .product-card,
  #promo-products .product-card{
    width: 100%;             /* prend la place dispo… */
    max-width: 340px;        /* …mais ne dépasse jamais 340px */
    margin: 0 auto;          /* ceinture et bretelles */
  }
}





/* MOBILE ONLY */
@media (max-width:900px){
  /* cache la toolbar desktop */
  .category-toolbar{ display:none !important; }

  /* la barre fixe en bas est visible dès le départ */
  .mobile-filter-bar{ display:block !important; }

  /* espace en bas pour ne pas masquer la fin de page par la barre */
  .mobile-filter-spacer{
    height:76px;
    display:block !important;
  }
}




