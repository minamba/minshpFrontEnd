/* ===========================
   HOME PAGE — CSS PROPRE
   =========================== */

/* ---------------------------
   0) Variables (fallbacks)
--------------------------- */
:root{
  --bg-alt: #f5f5f7;
  --shadow-2: 0 10px 30px rgba(0,0,0,.08);
}

/* ===========================
   1) HERO
=========================== */
.hero-section{
  position:relative;
  width:100%;
  height:100vh;
  overflow:hidden;
  z-index:0;
}
.hero-video,
.hero-image{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  filter:brightness(.4);
  z-index:-1;
  pointer-events:none;
}
.hero-section::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:linear-gradient(to bottom, rgba(0,0,0,.15), rgba(0,0,0,.45));
  z-index:0;
}
.hero-content{
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
  color:#fff;
  padding:0 16px;
}
.hero-title{
  font-size:clamp(1.8rem,5vw,3rem);
  font-weight:800;
  margin:0 0 1rem;
}
.hero-subtitle{
  font-size:clamp(1rem,2.8vw,1.4rem);
  margin:0 auto 1.5rem;
  max-width:640px;
  line-height:1.55;
  opacity:.95;
}
.hero-button{
  display:inline-block;
  padding:.8rem 2rem;
  border:1px solid #fff;
  border-radius:50px;
  color:#fff;
  text-decoration:none;
  font-weight:700;
  transition:background .25s, color .25s, transform .05s, box-shadow .2s;
}
.hero-button:hover{
  background:#fff;
  color:#000;
  transform:translateY(-1px);
  box-shadow:0 10px 24px rgba(0,0,0,.12);
}

/* — Hero : Mobile tweaks — */
@media (max-width:768px){
  .hero-content{ width:92vw; padding:0 8px; }
  .hero-title{
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    line-height:1.15; letter-spacing:.2px;
    font-size:clamp(1.2rem,7.6vw,2rem);
    margin-bottom:.6rem;
  }
  .hero-subtitle{
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    line-height:1.35; font-size:clamp(.95rem,4vw,1.1rem);
    max-width:none; margin-bottom:1rem;
  }
  .hero-section::after{
    background:linear-gradient(to bottom, rgba(0,0,0,.20), rgba(0,0,0,.50));
  }
}

/* ===========================
   2) FEATURES (bloc images/texte)
=========================== */
.features-section{
  display:flex; flex-direction:column;
  gap:5rem; padding:5rem 2rem;
}
.feature{
  display:flex; align-items:center; justify-content:space-between; gap:3rem;
  max-width:1200px; margin:0 auto; padding:2rem;
  border-radius:20px; background:#fff; box-shadow:var(--shadow-2);
  transition: box-shadow .2s, transform .12s;
}
.feature:hover{ transform:translateY(-2px); box-shadow:0 16px 36px rgba(0,0,0,.08); }
.feature.reverse{ flex-direction:row-reverse; }
.feature-text{ flex:1; max-width:500px; }
.feature-text h2{ font-size:2rem; margin-bottom:1rem; }
.feature-text p{ font-size:1.1rem; color:#555; }
.feature img{
  flex:1; width:100%; max-width:500px; border-radius:20px; object-fit:cover;
  background:#fff; padding:8px;
}

/* — Features : Mobile/Tablet — */
@media (max-width:820px){
  .features-section{ padding:3rem 1rem; gap:2rem; }
  .feature{
    flex-direction:column !important; align-items:center; text-align:center; gap:1rem;
    padding:1.25rem 1rem; box-shadow:var(--shadow-2);
  }
  .feature.reverse{ flex-direction:column !important; }
  .feature-text{ max-width:none; }
  .feature-text h2{ font-size:clamp(1.25rem,5.2vw,1.6rem); margin:0 0 .4rem; }
  .feature-text p{
    font-size:clamp(.95rem,4vw,1.05rem); color:#555; margin:0 auto 1rem; max-width:38ch;
  }
  .feature img{
    display:block; width:100%; max-width:560px; border-radius:16px;
    background:#fff; padding:10px; box-shadow:none !important; margin:0 auto; object-fit:contain;
  }
}
/* Texte aligné à gauche sur mobile si souhaité */
@media (max-width:820px){
  .feature-text{ text-align:left !important; width:100%; max-width:560px; margin:0 auto; }
}

/* Espacement harmonisé entre sections */
.home-container .features-section{
  margin-bottom:3rem !important; padding-bottom:2rem !important;
}

/* ===========================
   3) CATEGORIES (tuiles)
=========================== */
.categories-section{
  padding:5rem 2rem; background:var(--bg-alt, #f5f5f7);
}
.categories-grid{
  max-width:1200px; margin:0 auto;
  display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:16px;
}
.category-card{
  background:#fff; border-radius:20px; box-shadow:var(--shadow-2);
  padding:1.25rem; display:flex; flex-direction:column; align-items:center; gap:.75rem;
  min-height:230px; transition:transform .12s, box-shadow .2s;
}
.category-card:hover{ transform:translateY(-2px); box-shadow:0 16px 36px rgba(0,0,0,.08); }
.category-title{ font-weight:700; color:#333; margin:.25rem 0 .5rem; }
.category-image{
  width:100%; height:160px; object-fit:contain; background:#fff; border-radius:12px; padding:8px; cursor:pointer;
}

/* — Categories : desktop → tablet break — */
@media (max-width:1024px){
  .categories-grid{ grid-template-columns:repeat(3, minmax(0,1fr)); }
}

/* — Categories : carrousel mobile — */
@media (max-width:768px){
  .categories-grid.categories-carousel{
    display:flex; gap:12px; overflow-x:auto; overflow-y:hidden;
    padding:8px 6px 2px; scroll-snap-type:x mandatory; scroll-padding:6px;
    -webkit-overflow-scrolling:touch;
  }
  .categories-grid.categories-carousel::-webkit-scrollbar{ display:none; }
  .categories-grid.categories-carousel .category-card{
    flex:0 0 50%; min-width:50%; max-width:50%; scroll-snap-align:center;
  }
}
/* Indice “Balayez” */
.swipe-indicator{
  display:none; align-items:center; justify-content:center; gap:10px;
  margin-top:8px; color:#6b7280; font-weight:700; font-size:.95rem;
}
@media (max-width:768px){ .swipe-indicator{ display:flex; } }

/* — Aligner Catégories comme Nouveautés — */
.home-container .categories-section{ padding-left:0 !important; padding-right:0 !important; }
.home-container .categories-section .new-header{ padding-left:2rem !important; padding-right:2rem !important; }
.home-container .categories-section .categories-grid{ padding:0 2rem; }

/* ===========================
   4) NOUVEAUTÉS (grille/carrousel)
=========================== */
.new-section{ padding:3rem 2rem; }
.new-header{
  max-width:1200px; margin:0 auto 12px;
  display:flex; align-items:center; justify-content:space-between;
}

/* Grille desktop */
.new-grid{
  max-width:1200px; margin:0 auto;
  display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:16px; align-items:stretch;
}
.new-grid .product-card{ width:100%; min-width:0; }

/* Carrousel tablette/mobile */
@media (max-width:980px){
  .new-grid{
    display:flex; gap:12px; overflow-x:auto; overflow-y:hidden;
    padding:8px 6px 2px; scroll-snap-type:x mandatory; scroll-padding:6px;
    -webkit-overflow-scrolling:touch;
  }
  .new-grid::-webkit-scrollbar{ display:none; }
  .new-grid .product-card{ flex:0 0 70%; max-width:70%; scroll-snap-align:center; }
}
@media (max-width:640px){
  .new-grid .product-card{ flex:0 0 85%; max-width:85%; }
}

/* — Version scoped HOME pour éviter conflits — */
.home-container .new-grid{
  max-width:1200px; margin:0 auto;
  display:grid !important; grid-template-columns:repeat(4, minmax(0,1fr)) !important;
  gap:16px !important; align-items:stretch;
}
.home-container .new-grid .product-card{
  width:auto !important; min-width:0 !important; flex:initial !important;
}
/* Carrousel tablette/mobile (HOME) */
@media (max-width:980px){
  .home-container .new-grid{
    display:flex !important; gap:12px !important; overflow-x:auto !important; overflow-y:hidden !important;
    padding:8px 6px 2px !important; scroll-snap-type:x mandatory; scroll-padding:6px;
    -webkit-overflow-scrolling:touch;
  }
  .home-container .new-grid::-webkit-scrollbar{ display:none; }
  .home-container .new-grid .product-card{
    flex:0 0 60% !important; max-width:60% !important; /* cartes un peu plus petites */
    scroll-snap-align:center;
  }
}
@media (max-width:640px){
  .home-container .new-grid .product-card{ flex:0 0 85% !important; max-width:85% !important; }
}

/* — Tailles par paliers custom (HOME) — */
@media (min-width:981px){
  .home-container .new-grid{
    display:grid !important; grid-template-columns:repeat(4, minmax(0,1fr)) !important;
    gap:16px !important; overflow:visible !important; padding:0 !important;
  }
}
@media (min-width:641px) and (max-width:980px){
  .home-container .new-grid{
    display:flex !important; gap:12px !important; overflow-x:auto !important; padding:8px 6px 2px !important;
    scroll-snap-type:x mandatory;
  }
  .home-container .new-grid .product-card{ flex:0 0 46% !important; max-width:46% !important; }
}

/* ===========================
   5) CARTES PRODUIT (Home)
   (vignettes + textes compacts)
=========================== */
.home-container .new-grid .product-card{
  padding:12px !important; border-radius:16px !important; gap:8px !important;
  background:#fff !important; box-shadow:var(--shadow-2) !important;
}

/* Vignette : hauteur fixe + blanc, pas d’overflow */
.home-container .new-grid .product-thumb{
  position:relative; width:100%; height:160px;
  background:#fff; border-radius:12px; overflow:hidden;
  display:flex; align-items:center; justify-content:center; padding:8px;
  transition:background-color .2s ease;
}
.home-container .new-grid .product-thumb .thumb-link,
.home-container .new-grid .product-thumb img{
  width:100%; height:100%; object-fit:contain !important; display:block;
  background:transparent; border:0; outline:0; box-shadow:none;
}
/* Overlay au hover */
.home-container .new-grid .thumb-overlay{
  position:absolute; inset:0; border-radius:12px;
  background:rgba(0,0,0,0); opacity:0; transition:background .18s ease, opacity .18s ease;
  pointer-events:none;
}
.home-container .new-grid .product-card:hover .thumb-overlay{ background:rgba(0,0,0,.18); opacity:1; }
.home-container .new-grid .product-card:hover .thumb-add-btn{ opacity:1; transform:translateY(0); }

/* Images : sécurité globale Home */
.home-container .product-card .product-thumb{
  aspect-ratio:4/3; width:100%; border-radius:16px; overflow:hidden; background:#fff; display:block;
}
.home-container .product-card .product-thumb .thumb-link,
.home-container .product-card .product-thumb img{
  width:100%; height:100%; object-fit:contain !important;
}
@media (max-width:480px){
  .home-container .product-card .product-thumb{ aspect-ratio:1/1; } /* carré en très petit */
}
.home-container .product-card .product-thumb img{ max-height:none !important; }

/* Textes compacts */
.home-container .new-grid .product-name{
  font-size:1rem !important; line-height:1.3 !important; margin-top:2px !important;
}
.home-container .new-grid .price .euros{ font-size:1.05rem !important; }
.home-container .new-grid .price .cents{ font-size:.8rem !important; top:-.35em !important; }
.home-container .new-grid .card-stock{ padding:4px 8px !important; font-size:.85rem !important; }

@media (max-width:640px){
  .home-container .new-grid{ display:flex !important; gap:10px !important; overflow-x:auto !important; padding:8px 8px 2px !important; scroll-snap-type:x mandatory; }
  .home-container .new-grid .product-card{ flex:0 0 48% !important; max-width:48% !important; }
  .home-container .new-grid .product-thumb{ height:140px !important; }
}

/* ===========================
   6) LIGNE STATUT + PRIX
   (alignée sur Category)
=========================== */

/* Rangée : statut compressible à gauche, prix à droite */
.home-container .new-grid .new-price-row{
  display:grid; grid-template-columns:minmax(0,1fr) auto;
  align-items:center; column-gap:8px; overflow:visible;
}

/* Chip statut (conteneur) */
.home-container .card-stock{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; line-height:1.05; font-weight:700; font-size:.9rem;
  min-width:0; max-width:100%;
  background:#fff; color:#374151; border-radius:999px;
}
/* Le point */
.home-container .card-stock-dot{
  width:8px; height:8px; border-radius:50%; flex:0 0 auto;
}
/* Texte interne (clamp sur le texte seulement) */
.home-container .card-stock .card-stock-txt{ min-width:0; max-width:100%; }

/* EN STOCK : 1 ligne */
.home-container .card-stock.in .card-stock-txt{
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
/* EN RUPTURE + BIENTÔT EN RUPTURE : 2 lignes max */
.home-container .card-stock.out,
.home-container .card-stock.warn{ align-items:flex-start; }
.home-container .card-stock.out .card-stock-txt,
.home-container .card-stock.warn .card-stock-txt{
  white-space:normal; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  overflow:hidden; text-overflow:ellipsis; word-break:keep-all; overflow-wrap:break-word;
}
.home-container .card-stock.out .card-stock-dot,
.home-container .card-stock.warn .card-stock-dot{ margin-top:.15em; }

/* Pile prix (droite) */
.home-container .price-stack{
  display:flex; flex-direction:column; align-items:flex-end; gap:2px; line-height:1.05; overflow:visible;
}
.home-container .price-stack.has-promo .price,
.home-container .price--promo{ color:#ef4444; }
.home-container .price .euros{ line-height:1; display:inline-block; }
.home-container .price .cents{
  position:relative; top:-.35em; font-size:.8rem; vertical-align:baseline;
  display:inline-block; margin-left:2px;
}

/* — Mobile statuts/prix — */
@media (max-width:520px){
  .home-container .new-grid .new-price-row{ grid-template-columns:minmax(0,1fr) auto; column-gap:8px; }
  .home-container .card-stock{ font-size:.82rem; padding:4px 8px; line-height:1.05; }
  .home-container .card-stock-dot{ width:7px; height:7px; }
  .home-container .price .euros{ font-size:1rem; }
  .home-container .price .cents{ font-size:.75rem; top:-.35em; }
  .home-container .price-old{ font-size:.85rem; margin:0; }
}

/* Ultra-étroit : on empile si nécessaire, sans couper le prix */
@media (max-width:400px){
  .home-container .new-grid .new-price-row{ grid-template-columns:1fr; row-gap:4px; }
  .home-container .card-stock{ justify-self:start; padding:3px 7px; font-size:.78rem; }
  .home-container .price-stack{ justify-self:end; }
}

/* ===========================
   7) Divers utilitaires
=========================== */
.product-desc{
  margin-top:0; margin-bottom:.35rem;
  font-size:.95rem; font-weight:600; line-height:1.3; opacity:.75;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
}
.text-muted{ opacity:.75; }
.product-card .product-name{ margin-top:.25rem; margin-bottom:.15rem; line-height:1.2; }




/* === FIX: centrer le bouton "En savoir plus" dans la section Features === */
.features-cta{
  width: 100%;
  max-width: 1200px;        /* même largeur que les cartes features */
  margin: 16px auto 2rem;   /* centre le conteneur */
  padding: 0 2rem;          /* même gouttière que le reste */
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 16px;
  text-align: center;       /* fallback si un style display se fait override */
  clear: both;              /* au cas où un float traîne */
}

.features-cta .btn-pill{
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  margin: 0 auto;           /* ceinture et bretelles */
}

/* Mobile: centre + largeur confortable */
@media (max-width: 820px){
  .features-cta{
    padding: 0 1rem;
    flex-direction: column;
  }
  .features-cta .btn-pill,
  .features-cta .btn-primary{
    min-width: 280px;
  }
}

